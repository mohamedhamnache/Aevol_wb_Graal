!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("rxjs"),require("@angular/core"),require("rxjs/operators"),require("echarts")):"function"==typeof define&&define.amd?define("ngx-echarts",["exports","rxjs","@angular/core","rxjs/operators","echarts"],e):e(t["ngx-echarts"]={},t.rxjs,t.ng.core,t.rxjs.operators,t.echarts)}(this,function(t,n,r,i,s){"use strict";var o=function(){function e(t){this._changes=t}return e.of=function(t){return new e(t)},e.prototype.notEmpty=function(t){if(this._changes[t]){var e=this._changes[t].currentValue;if(e!==undefined&&null!==e)return n.of(e)}return n.empty()},e.prototype.has=function(t){if(this._changes[t]){var e=this._changes[t].currentValue;return n.of(e)}return n.empty()},e.prototype.notFirst=function(t){if(this._changes[t]&&!this._changes[t].isFirstChange()){var e=this._changes[t].currentValue;return n.of(e)}return n.empty()},e.prototype.notFirstAndEmpty=function(t){if(this._changes[t]&&!this._changes[t].isFirstChange()){var e=this._changes[t].currentValue;if(e!==undefined&&null!==e)return n.of(e)}return n.empty()},e}(),h=function(){function t(){}return t.All=[t.Click="click",t.DblClick="dblclick",t.MouseDown="mousedown",t.MouseUp="mouseup",t.MouseOver="mouseover",t.MouseOut="mouseout",t.GlobalOut="globalout",t.ContextMenu="contextmenu",t.DataZoom="datazoom",t.MapSelectChanged="mapselectchanged",t.MapSelected="mapselected",t.MapUnselected="mapunselected"],t}(),e=function(){function t(t,e){this.el=t,this._ngZone=e,this.autoResize=!0,this.loadingType="default",this.detectEventChanges=!0,this.chartInit=new r.EventEmitter,this.chartClick=new r.EventEmitter,this.chartDblClick=new r.EventEmitter,this.chartMouseDown=new r.EventEmitter,this.chartMouseUp=new r.EventEmitter,this.chartMouseOver=new r.EventEmitter,this.chartMouseOut=new r.EventEmitter,this.chartGlobalOut=new r.EventEmitter,this.chartContextMenu=new r.EventEmitter,this.chartDataZoom=new r.EventEmitter,this.chartMapSelectChanged=new r.EventEmitter,this.chartMapSelected=new r.EventEmitter,this.chartMapUnselected=new r.EventEmitter,this.currentOffsetWidth=0,this.currentOffsetHeight=0,this._resize$=new n.Subject}return t.prototype.createChart=function(){var t=this;this.currentWindowWidth=window.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight;var e=this.el.nativeElement;if(window&&window.getComputedStyle){var n=window.getComputedStyle(e,null).getPropertyValue("height");n&&"0px"!==n||e.style.height&&"0px"!==e.style.height||(e.style.height="400px")}return this._ngZone.runOutsideAngular(function(){return s.init(e,t.theme||undefined,t.initOpts||undefined)})},t.prototype.onWindowResize=function(t){var e=t.target;this.autoResize&&e.innerWidth!==this.currentWindowWidth&&(this.currentWindowWidth=e.innerWidth,this.currentOffsetWidth=this.el.nativeElement.offsetWidth,this.currentOffsetHeight=this.el.nativeElement.offsetHeight,this._resize$.next())},t.prototype.ngOnChanges=function(t){var e=this,n=o.of(t);n.notFirstAndEmpty("options").subscribe(function(t){return e.onOptionsChange(t)}),n.notFirstAndEmpty("merge").subscribe(function(t){return e.setOption(t)}),n.has("loading").subscribe(function(t){return e.toggleLoading(!!t)}),n.notFirst("detectEventChanges").subscribe(function(t){return e.toggleEventDetectors(!!t)}),n.notFirst("theme").subscribe(function(){return e.refreshChart()})},t.prototype.ngOnDestroy=function(){this._resizeSub&&(this._resizeSub.unsubscribe(),this._resizeSub=null),this._chart&&(this._chart.dispose(),this._chart=null)},t.prototype.ngDoCheck=function(){if(this._chart&&this.autoResize){var t=this.el.nativeElement.offsetWidth,e=this.el.nativeElement.offsetHeight;this.currentOffsetWidth===t&&this.currentOffsetHeight===e||(this.currentOffsetWidth=t,this.currentOffsetHeight=e,this._resize$.next())}},t.prototype.ngAfterViewInit=function(){var t=this;setTimeout(function(){return t.initChart()})},t.prototype.initChart=function(){this.onOptionsChange(this.options),this.merge&&this._chart&&this.setOption(this.merge)},t.prototype.onOptionsChange=function(t){var e=this;t&&(this._chart||(this._chart=this.createChart(),this._resizeSub=this._resize$.pipe(i.debounceTime(50)).subscribe(function(){e._chart&&e._chart.resize()}),this.chartInit.emit(this._chart),this.detectEventChanges&&this.registerEvents()),this._chart.setOption(this.options,!0))},t.prototype.registerEvents=function(){if(this._chart)for(var t=h.All,e=0,n=t.length;e<n;e++)this._chart.on(t[e],this.eventHandler,this)},t.prototype.unregisterEvents=function(){if(this._chart)for(var t=h.All,e=0,n=t.length;e<n;e++)this._chart.off(t[e],this.eventHandler)},t.prototype.clear=function(){this._chart&&this._chart.clear()},t.prototype.toggleLoading=function(t){this._chart&&(t?this._chart.showLoading(this.loadingType,this.loadingOpts):this._chart.hideLoading())},t.prototype.setOption=function(t,e){this._chart&&this._chart.setOption(t,e)},t.prototype.eventHandler=function(t){var e=this;switch(t.type){case h.Click:this._ngZone.run(function(){return e.chartClick.emit(t)});break;case h.DblClick:this._ngZone.run(function(){return e.chartDblClick.emit(t)});break;case h.MouseDown:this._ngZone.run(function(){return e.chartMouseDown.emit(t)});break;case h.MouseUp:this._ngZone.run(function(){return e.chartMouseUp.emit(t)});break;case h.MouseOver:this._ngZone.run(function(){return e.chartMouseOver.emit(t)});break;case h.MouseOut:this._ngZone.run(function(){return e.chartMouseOut.emit(t)});break;case h.GlobalOut:this._ngZone.run(function(){return e.chartGlobalOut.emit(t)});break;case h.ContextMenu:this._ngZone.run(function(){return e.chartContextMenu.emit(t)});break;case h.DataZoom:this._ngZone.run(function(){return e.chartDataZoom.emit(t)});break;case h.MapSelectChanged:this._ngZone.run(function(){return e.chartMapSelectChanged.emit(t)});break;case h.MapSelected:this._ngZone.run(function(){return e.chartMapSelected.emit(t)});break;case h.MapUnselected:this._ngZone.run(function(){return e.chartMapUnselected.emit(t)})}},t.prototype.toggleEventDetectors=function(t){this._chart&&(t?this.registerEvents():this.unregisterEvents())},t.prototype.refreshChart=function(){this.ngOnDestroy(),this.initChart()},t.decorators=[{type:r.Directive,args:[{selector:"echarts, [echarts]"}]}],t.ctorParameters=function(){return[{type:r.ElementRef},{type:r.NgZone}]},t.propDecorators={options:[{type:r.Input}],theme:[{type:r.Input}],loading:[{type:r.Input}],initOpts:[{type:r.Input}],merge:[{type:r.Input}],autoResize:[{type:r.Input}],loadingType:[{type:r.Input}],loadingOpts:[{type:r.Input}],detectEventChanges:[{type:r.Input}],chartInit:[{type:r.Output}],chartClick:[{type:r.Output}],chartDblClick:[{type:r.Output}],chartMouseDown:[{type:r.Output}],chartMouseUp:[{type:r.Output}],chartMouseOver:[{type:r.Output}],chartMouseOut:[{type:r.Output}],chartGlobalOut:[{type:r.Output}],chartContextMenu:[{type:r.Output}],chartDataZoom:[{type:r.Output}],chartMapSelectChanged:[{type:r.Output}],chartMapSelected:[{type:r.Output}],chartMapUnselected:[{type:r.Output}],onWindowResize:[{type:r.HostListener,args:["window:resize",["$event"]]}]},t}(),u=function(){function t(){}return t.decorators=[{type:r.NgModule,args:[{imports:[],declarations:[e],exports:[e]}]}],t}();t.NgxEchartsModule=u,t.Éµa=e,Object.defineProperty(t,"__esModule",{value:!0})});
//# sourceMappingURL=ngx-echarts.umd.min.js.map